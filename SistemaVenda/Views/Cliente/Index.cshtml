@model List<SistemaVenda.Models.ClienteViewModel>;

@{
    ViewData["Title"] = "Clientes";
}

<link href="~/css/Grid/dataTables.bootstrap4.min.css" rel="stylesheet" />
<link href="~/css/Grid/responsive.bootstrap4.min.css" rel="stylesheet" />
<link href="~/css/Grid/buttons.bootstrap4.min.css" rel="stylesheet" />
<link href="~/css/Grid/Colors.css" rel="stylesheet" />

<ol class="breadcrumb float-xl-right">
    <li class="breadcrumb-item text-dark-blue"><a href="@Url.Action("Index","Home")">Página principal</a></li>
    <li class="breadcrumb-item active text-dark-blue opacity-75">Listagem de Clientes</li>
</ol>
<h1 class="page-header text-dark-blue">Listagem de Clientes<small></small></h1>

<div class="panel panel-inverse">
    <div class="panel-heading">
        <h4 class="panel-title">Clientes</h4>
    </div>
    <div class="panel-body">
        <div class="col-md-12">&nbsp;</div>
        <div class="col-md-12 row">
            <div class="col-md-10">

            </div>
            <div class="col-md-2">
                <input type="button" class="btn btn-primary float-right" onclick="Cadastrar()" value="Cadastrar"/>
            </div>
        </div>
        <div class="col-md-12">
            &nbsp;
        </div>
        <div class="col-md-12 row">
            <div class="col-md-12">
                <table id="data-table-default" class="table table-striped table-bordered align-middle">
                    <thead>
                        <tr>
                            <th style="width:115px">
                                Ações
                            </th>
                            <th>Código</th>
                            <th>Nome</th>
                            <th>CNPJ/CPF</th>
                            <th>Email</th>
                            <th>Celular</th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var item in Model)
                        {
                            <tr>
                                <td><input type="button" class="btn btn-success" onclick="Editar(@item.Codigo)" value="Editar"/>&nbsp;<input type="button" class="btn btn-danger" onclick="Deletar(@item.Codigo)" value="Deletar"/></td>
                                <td>
                                    @item.Codigo
                                </td>
                                <td>
                                    @item.Nome
                                </td>
                                <td>
                                    @item.CNPJ_CPF
                                </td>
                                <td>
                                    @item.Email
                                </td>
                                <td>
                                    @item.Celular
                                </td>
                            </tr>
                        }
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js" type="text/javascript"></script>

<script src="~/js/Grid/jquery.dataTables.min.js"></script>
<script src="~/js/Grid/dataTables.bootstrap4.min.js"></script>
<script src="~/js/Grid/dataTables.responsive.min.js"></script>
<script src="~/js/Grid/dataTables.bootstrap4.min.js"></script>
<script src="~/js/Grid/dataTables.buttons.min.js"></script>
<script src="~/js/Grid/buttons.bootstrap4.min.js"></script>
<script src="~/js/Grid/buttons.colVis.min.js"></script>
<script src="~/js/Grid/buttons.flash.min.js"></script>
<script src="~/js/Grid/buttons.html5.min.js"></script>
<script src="~/js/Grid/buttons.print.min.js"></script>
<script src="~/js/Grid/pdfmake.min.js"></script>
<script src="~/js/Grid/vfs_fonts.js"></script>
<script src="~/js/Grid/jszip.min.js"></script>

<script>
    var options = {
        dom: '<"dataTables_wrapper dt-bootstrap"<"row"<"col-xl-7 d-block d-sm-flex d-xl-block justify-content-center"<"d-block d-lg-inline-flex me-0 me-md-3 float-right"l><"d-block d-lg-inline-flex"B>><"col-xl-5 d-flex d-xl-block justify-content-center"fr>>t<"row"<"col-md-5"i><"col-md-7"p>>>',
        buttons: [
            { extend: 'copy', className: 'btn-sm' },
            { extend: 'csv', className: 'btn-sm' },
            { extend: 'excel', className: 'btn-sm' },
            { extend: 'pdf', className: 'btn-sm' },
            { extend: 'print', className: 'btn-sm' }
        ],
        retrieve: true,
        responsive: true,
        colReorder: true,
        keys: true,
        rowReorder: true,
        select: true
    };

    if ($(window).width() <= 767) {
        options.rowReorder = false;
        options.colReorder = false;
    }
    $('#data-table-default').DataTable(options);

    function Editar(Codigo) {
        window.location = window.origin + "\\Cliente\\Cadastro\\" + Codigo;
    }

    function Cadastrar() {
        window.location = window.origin + "\\Cliente\\Cadastro";
    }

    function Deletar(Codigo) {
        window.location = window.origin + "\\Cliente\\Deletar\\" + Codigo;
    }
</script>